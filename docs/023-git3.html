<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Formation Quarto - 8&nbsp; Déploiement de pages</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./022-git2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Quarto: le support</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://mthevenin.gitlab.io/fiches_quarto/"> 
<span class="menu-text">Les fiches</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-présentation-revealjs" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Présentation Revealjs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-présentation-revealjs">    
        <li>
    <a class="dropdown-item" href="https://mthevenin.gitlab.io/quarto_revealjs/">
 <span class="dropdown-text">Présentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://gitlab.com/mthevenin/quarto_revealjs/-/raw/master/index.qmd?ref_type=heads">
 <span class="dropdown-text">Code source</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-document-pdf" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Document PDF</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-document-pdf">    
        <li>
    <a class="dropdown-item" href="./files/pdf/pdf.pdf">
 <span class="dropdown-text">Document PDF</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./files/pdf/pdf.qmd">
 <span class="dropdown-text">Code source</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-autres" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Autres</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-autres">    
        <li>
    <a class="dropdown-item" href="./files/theme_code/theme_code.html">
 <span class="dropdown-text">Styles des blocs de code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://mthevenin.gitlab.io/quarto_multform/">
 <span class="dropdown-text">Multiformats</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./files/exemple_scss.scss">
 <span class="dropdown-text">Exemple fichier scss</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://mthevenin.gitlab.io/quarto_blog/">
 <span class="dropdown-text">Exemple de blog</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://gitlab.com/mthevenin/support_quarto"> 
<span class="menu-text"><i class="fa-brands fa-gitlab" aria-label="gitlab"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/mthevenin/support_quarto"> 
<span class="menu-text"><i class="fa-brands fa-github" aria-label="github"></i></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./021-git1.html"><strong>Déploiement sur plateforme git</strong></a></li><li class="breadcrumb-item"><a href="./023-git3.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Déploiement de pages</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Présentation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text"><strong>Produire une documentation avec Quarto</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./011-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Installation Quarto et gestion des fichiers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./012-qmd_rmd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quarto et Rmarkdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./013-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Edition et formatage d’un document</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./014-yaml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction au yaml</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./015-codes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Les blocs de codes</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text"><strong>Déploiement sur plateforme git</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./021-git1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Installation et connection</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./022-git2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Clonage, pull, push et branches</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./023-git3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Déploiement de pages</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text"><strong>Formats</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./031-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction aux formats</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./032-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Format HTML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./033-pdf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Document PDF</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./034-multiformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multiformat</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text"><strong>Theming, références croisées, mise en page</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./041-theming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Theming html</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./042-cross_ref.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Notes, références croisées et bibliographie</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./043-layout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Eléments de mise en page</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text"><strong>Site, book, blog</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./051-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Généralités</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./052-site.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Website</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./053-book.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Book</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./054-blog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Blog</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text"><strong>Résumé</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./061-glossaire.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Résumé</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des matières</h2>
   
  <ul>
  <li><a href="#github" id="toc-github" class="nav-link active" data-scroll-target="#github"><span class="header-section-number">8.1</span> GITHUB</a>
  <ul>
  <li><a href="#déploiement-dune-simple-page-html" id="toc-déploiement-dune-simple-page-html" class="nav-link" data-scroll-target="#déploiement-dune-simple-page-html"><span class="header-section-number">8.1.1</span> Déploiement d’une simple page html</a></li>
  <li><a href="#déploiement-avec-un-fichier-de-configuration-_quarto.yml" id="toc-déploiement-avec-un-fichier-de-configuration-_quarto.yml" class="nav-link" data-scroll-target="#déploiement-avec-un-fichier-de-configuration-_quarto.yml"><span class="header-section-number">8.1.2</span> Déploiement avec un fichier de configuration _quarto.yml</a></li>
  </ul></li>
  <li><a href="#gitlab" id="toc-gitlab" class="nav-link" data-scroll-target="#gitlab"><span class="header-section-number">8.2</span> GITLAB</a>
  <ul>
  <li><a href="#générer-le-déploiement-dune-page-test-et-dune-url-associée" id="toc-générer-le-déploiement-dune-page-test-et-dune-url-associée" class="nav-link" data-scroll-target="#générer-le-déploiement-dune-page-test-et-dune-url-associée"><span class="header-section-number">8.2.1</span> Générer le déploiement d’une page test et d’une url associée</a></li>
  <li><a href="#déployer-son-contenu-html" id="toc-déployer-son-contenu-html" class="nav-link" data-scroll-target="#déployer-son-contenu-html"><span class="header-section-number">8.2.2</span> Déployer son contenu html</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./021-git1.html"><strong>Déploiement sur plateforme git</strong></a></li><li class="breadcrumb-item"><a href="./023-git3.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Déploiement de pages</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Déploiement de pages</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li><p>Atouts Github:</p>
<ul>
<li>Moins d’étapes pour le déploiement (à moins d’être un.e pro sur les fichiers de configuration de Gitlab).</li>
<li>On peut déployer un simple notebook avec une seule page html sans fichier de configuration <code>_quarto.yml</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</li>
</ul></li>
<li><p>Atouts Gitlab:</p>
<ul>
<li>Souplesse pour le nom des adresses http, qui peut être unique ou non.</li>
<li>On peut déployer du contenu en mode privé sans payer.</li>
</ul></li>
<li><p>Pour <strong>Github</strong>, on va décrire la méthode de déploiement pour une simple page html et pour un contenu plus enrichi type <em>website</em> ou <em>book</em>. Dans le second cas, il faudra ajouter un un fichier de configuration <strong><code>_quarto.yml</code></strong> indiquant le répertoire destination des fichiers html, css, js….</p></li>
<li><p>Pour <strong>Gitlab</strong> pour un simple notebook ou un contenu de type <em>website</em> ou <em>book</em> la méthode sera strictement identique.</p>
<ul>
<li>Attention: le fichier généré lors du déploiement <strong><code>.gitlab-ci.yml</code></strong> ne devra pas être supprimé.</li>
</ul></li>
</ul>
<section id="github" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="github"><span class="header-section-number">8.1</span> GITHUB</h2>
<section id="déploiement-dune-simple-page-html" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="déploiement-dune-simple-page-html"><span class="header-section-number">8.1.1</span> Déploiement d’une simple page html</h3>
<ol type="1">
<li><p>On génère un dépôt sur la plateforme en mode <strong>Public</strong> <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>On ajoute un fichier nommé <strong><code>.nojekill</code></strong> <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p>
<ul>
<li>Ce fichier est vide.</li>
<li>On peut réaliser cette étape en local une fois le clonage du dépôt effectué, mais c’est très rapide à faire directement sur le dépôt distant.</li>
</ul></li>
<li><p>Dans Rstudio, on crée un projet en clônant le dépôt distant <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>On Génère le notebook avec un fichier <code>.qmd</code> (ou <code>.rmd</code> si on souhaite rester sur rmarkdown):</p>
<ul>
<li><strong>Le fichier doit s’appeler <code>index.html</code></strong>.</li>
</ul></li>
<li><p>On transfère les modifications sur le dépôt distant (<code>git push</code>)</p></li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>On est pas obligé d’envoyer les fichiers sources .qmd ou .rmd, c’est ici l’output html et les fichiers associés (.css, .js…) qui seront lu par le navigateur. On peut donc ajouter des exceptions dans le fichier <code>.gitignore</code> si on souhaite restreindre le les fichiers présents dans le répertoire distant.</p>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[33,33,33]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github1.png" class="lightbox" data-gallery="github1" data-glightbox="description: .lightbox-desc-1" title="Fichier .nojekill (1)"><img src="img2/deploy_github1.png" class="img-fluid figure-img" alt="Fichier .nojekill (1)"></a></p>
<figcaption>Fichier .nojekill (1)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github2.png" class="lightbox" data-gallery="github1" data-glightbox="description: .lightbox-desc-2" title="Fichier .nojekill (2)"><img src="img2/deploy_github2.png" class="img-fluid figure-img" alt="Fichier .nojekill (2)"></a></p>
<figcaption>Fichier .nojekill (2)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github3.png" class="lightbox" data-gallery="github1" data-glightbox="description: .lightbox-desc-3" title="Fichier .nojekill (3)"><img src="img2/deploy_github3.png" class="img-fluid figure-img" alt="Fichier .nojekill (3)"></a></p>
<figcaption>Fichier .nojekill (3)</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github4.png" class="lightbox" data-gallery="github2" data-glightbox="description: .lightbox-desc-4" title="Le notebook dans RStudio"><img src="img2/deploy_github4.png" class="img-fluid figure-img" alt="Le notebook dans RStudio"></a></p>
<figcaption>Le notebook dans RStudio</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github5.png" class="lightbox" data-gallery="github2" data-glightbox="description: .lightbox-desc-5" title="Le notebook dans le dépôt distant"><img src="img2/deploy_github5.png" class="img-fluid figure-img" alt="Le notebook dans le dépôt distant"></a></p>
<figcaption>Le notebook dans le dépôt distant</figcaption>
</figure>
</div>
</div>
</div>
</div>
<ol start="6" type="1">
<li><p>Retourner sur le dépôt distant et rafraîchir la page pour voir si les fichiers du notebook a bien été ajouté <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>Aller dans les paramètres du dépôt (<strong>Settings</strong>) et cliquer dans le menu vertical à gauche sur <strong>Pages</strong> <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>Dans <strong>Branch</strong>, sélectionner <strong>main</strong> et sauvegarder <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>Attendre quelques dizaines de secondes et rafraichir la page. L’adresse est affichée, et on peut y accéder en cliquant sur le lien.</p></li>
</ol>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[20,20,20,20]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github6.png" class="lightbox" data-gallery="github3" data-glightbox="description: .lightbox-desc-6" title="Déploiement (1)"><img src="img2/deploy_github6.png" class="img-fluid figure-img" alt="Déploiement (1)"></a></p>
<figcaption>Déploiement (1)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github7.png" class="lightbox" data-gallery="github3" data-glightbox="description: .lightbox-desc-7" title="Déploiement (2)"><img src="img2/deploy_github7.png" class="img-fluid figure-img" alt="Déploiement (2)"></a></p>
<figcaption>Déploiement (2)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github8.png" class="lightbox" data-gallery="github3" data-glightbox="description: .lightbox-desc-8" title="Déploiement (3)"><img src="img2/deploy_github8.png" class="img-fluid figure-img" alt="Déploiement (3)"></a></p>
<figcaption>Déploiement (3)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github9.png" class="lightbox" data-gallery="github3" data-glightbox="description: .lightbox-desc-9" title="Déploiement (4)"><img src="img2/deploy_github9.png" class="img-fluid figure-img" alt="Déploiement (4)"></a></p>
<figcaption>Déploiement (4)</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div class="center">
<div class="column" style="width:80%;">
<div class="box_img">
<iframe width="550" height="450" src="https://mthevenin.github.io/deploy-page1/" title="deploy website - github" name="deploy_page1">
</iframe>
</div>
</div>
</div>
</section>
<section id="déploiement-avec-un-fichier-de-configuration-_quarto.yml" class="level3" data-number="8.1.2">
<h3 data-number="8.1.2" class="anchored" data-anchor-id="déploiement-avec-un-fichier-de-configuration-_quarto.yml"><span class="header-section-number">8.1.2</span> Déploiement avec un fichier de configuration _quarto.yml</h3>
<ul>
<li><p>Fonctionne également pour une simple page. Je recommande plutôt cette méthode pour son caractère plus général.</p></li>
<li><p>Le gros des étapes précédentes sont identiques. Ce qui change:</p>
<ul>
<li>Création d’un fichier <strong><code>_quarto.yml</code></strong> où l’on va indiquer le répertoire de destination des fichiers html et fichiers associés (css, js).</li>
<li>Ce répertoire devra s’appeler <strong>doc</strong>.</li>
<li>Dans github, on devra modifier ce répertoire de destination.</li>
</ul></li>
</ul>
<p><strong>Le fichier <code>_quarto.yaml</code></strong></p>
<p>Cette question sera un plus approfondie dans le chapitre consacrée au contenu de type website, book dans la dernière partie du support.</p>
<ul>
<li><p>Pour la seule question du déploiement de pages ou de site, ce fichier <code>_quarto.yml</code> de type texte doit contenir la destination du répertoire contenant le ou les fichiers .html .css, .scss, js….</p></li>
<li><p>Le répertoire de destination doit s’appeler <strong>docs</strong>.</p></li>
</ul>
<p>Cet élément obligatoire du yaml est:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode mf code-with-copy"><code class="sourceCode metafont"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>project:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  type: website</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  output<span class="op">-</span><span class="kw">dir</span>: docs</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Pour une simple page, on peut le générer directement dans le dépôt distant après sa création: <strong>new file</strong> =&gt; <strong>nom du fichier</strong>: <strong><code>_quarto.yml</code></strong> =&gt; puis coller les éléments ci-dessus.</p></li>
<li><p>Pour un contenu plus enrichi, comme un website, on ajoutera une barre de navigation horizontale et/ou une barre verticale, et on indiquera les fichiers <code>.qmd</code> (ou <code>.rmd</code>) qui alimenteront le contenu.</p>
<ul>
<li>Si on prend le template d’exemple de Quarto<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, on remarque que le répertoire de destination n’est pas indiqué. Par défaut, il s’appelle <strong><code>_site</code></strong>. Il faut changer son nom: <strong><code>output_dir: docs</code></strong>.</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong><code>_quarto.yml</code> généré automatiquement</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> website</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">website</span><span class="kw">:</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"deploy_page2"</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">navbar</span><span class="kw">:</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">left</span><span class="kw">:</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">href</span><span class="kw">:</span><span class="at"> index.qmd</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Home</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> about.qmd</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">theme</span><span class="kw">:</span><span class="at"> cosmo      </span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">css</span><span class="kw">:</span><span class="at"> styles.css</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:50%;">
<p><strong><code>_quarto.yml</code> pour déploiement sur Github</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> website</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">output-dir</span><span class="kw">:</span><span class="at"> docs</span><span class="co">  # Ajouter cette ligne d'option</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">website</span><span class="kw">:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"deploy_page2"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">navbar</span><span class="kw">:</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">left</span><span class="kw">:</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">href</span><span class="kw">:</span><span class="at"> index.qmd</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Home</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> about.qmd</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">theme</span><span class="kw">:</span><span class="at"> cosmo      </span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">css</span><span class="kw">:</span><span class="at"> styles.css</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Une fois le dépôt distant cloné et le site généré en local, on le push:</p>
<ul>
<li><p>On va dans les paramètres du dépôt (<strong>Settings</strong>) et dans <strong>Pages</strong> <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>Dans <strong>branch</strong> on sélectionne la branche <em>main</em> et on change le répertoire de <strong>roots</strong> à <strong>docs</strong> <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>On sauvegarde, et on rafraichit la page jusqu’à ce que l’adresse du site apparaissent avec le lien. Compter quelques dizaines de secondes.</p></li>
</ul>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github11.png" class="lightbox" data-gallery="github4" data-glightbox="description: .lightbox-desc-10" title="Fichier _quarto.yml"><img src="img2/deploy_github11.png" class="img-fluid figure-img" alt="Fichier _quarto.yml"></a></p>
<figcaption>Fichier <code>_quarto.yml</code></figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github11b.png" class="lightbox" data-gallery="github4" data-glightbox="description: .lightbox-desc-11" title="Répertoire docs dans dépôt distant"><img src="img2/deploy_github11b.png" class="img-fluid figure-img" alt="Répertoire docs dans dépôt distant"></a></p>
<figcaption>Répertoire <strong>docs</strong> dans dépôt distant</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github12.png" class="lightbox" data-gallery="github5" data-glightbox="description: .lightbox-desc-12" title="Déploiement (1)"><img src="img2/deploy_github12.png" class="img-fluid figure-img" alt="Déploiement (1)"></a></p>
<figcaption>Déploiement (1)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github13.png" class="lightbox" data-gallery="github5" data-glightbox="description: .lightbox-desc-13" title="Déploiement (2)"><img src="img2/deploy_github13.png" class="img-fluid figure-img" alt="Déploiement (2)"></a></p>
<figcaption>Déploiement (2)</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div class="center">
<div class="column" style="width:80%;">
<div class="box_img">
<iframe width="550" height="450" src="https://mthevenin.github.io/deploy-page2/" title="deploy website - github" name="deploy_page2">
</iframe>
</div>
</div>
</div>
</section>
</section>
<section id="gitlab" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="gitlab"><span class="header-section-number">8.2</span> GITLAB</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Atouts de Gitlab
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Déploiement en mode private sans coût</strong></p>
<p>L’atout principal de Gitlab par rapport à Github est la possibilité de déployer un contenu html en mode privé sans coût additionnel.</p>
<p><strong>Choix du nom de domaine</strong></p>
<p>Gitlab est nettement plus souple sur le choix des adresses http. Par défaut, au moment du déploiement une adresse unique est proposée. On peut la changer pour un nom de domaine classique : <strong>https://username.gitlab.io/repository_name/</strong></p>
</div>
</div>
<p>Ne maîtrisant absolument pas la programmation des templates <strong><code>.gitlab-ci.yml</code></strong>, on procèdera par simple pas à pas.</p>
<section id="générer-le-déploiement-dune-page-test-et-dune-url-associée" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="générer-le-déploiement-dune-page-test-et-dune-url-associée"><span class="header-section-number">8.2.1</span> Générer le déploiement d’une page test et d’une url associée</h3>
<p>Eléments générés lors du déploiement:</p>
<ul>
<li>Un fichier <strong><code>gitlab-ci.yml</code></strong> qui devra être conservé.</li>
<li>Un répertoire <strong>public</strong> qui contiendra le contenu html.</li>
</ul>
<p>Pour générer ces éléments:</p>
<ul>
<li>On crée un dépôt en mode <strong>public</strong> ou <strong>private</strong>:</li>
<li>Lorsqu’on clique sur <strong>New project</strong> on selectionne <strong>Create from template</strong>.</li>
<li>On sélectionne <strong>Pages/plain HTML</strong> dans la liste et on clique sur <strong>Use template</strong>.</li>
</ul>
<div class="center">
<div>

</div>
<div class="quarto-layout-panel" data-layout="[33,33,33]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab1.png" class="lightbox" data-gallery="gitlab1" data-glightbox="description: .lightbox-desc-14" title="Nouveau projet"><img src="img2/deploy_gitlab1.png" class="img-fluid figure-img" alt="Nouveau projet"></a></p>
<figcaption>Nouveau projet</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab2.png" class="lightbox" data-gallery="gitlab1" data-glightbox="description: .lightbox-desc-15" title="Projet avec template"><img src="img2/deploy_gitlab2.png" class="img-fluid figure-img" alt="Projet avec template"></a></p>
<figcaption>Projet avec template</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab3.png" class="lightbox" data-gallery="Gitlab1" data-glightbox="description: .lightbox-desc-16" title="Choix template html"><img src="img2/deploy_gitlab3.png" class="img-fluid figure-img" alt="Choix template html"></a></p>
<figcaption>Choix template html</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><strong>Création du projet</strong>:
<ul>
<li>On reprend les éléments décrits dans le chapitre précédent (<a href="022-git2.html#sec-glproj" class="quarto-xref"><span>Section 7.1.1</span></a>) avec le nom du projet, le nom de domaine du projet (différent du site déployé) et le choix de la visibilité.</li>
<li>On remarque qu’un template <code>gitlab-ci.yml</code> est ajouté. Il doit être conservé.</li>
<li>Pour déployer la page ou le site avec son nom de domaine, sur le menu vertical à gauche, on clique sur <strong>Build</strong> et sur <strong>Pipelines</strong>.</li>
</ul></li>
</ul>
<div class="center">
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab4.png" class="lightbox" data-gallery="gitlab2" data-glightbox="description: .lightbox-desc-17" title="Projet avec template"><img src="img2/deploy_gitlab4.png" class="img-fluid figure-img" alt="Projet avec template"></a></p>
<figcaption>Projet avec template</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab5.png" class="lightbox" data-gallery="gitlab2" data-glightbox="description: .lightbox-desc-18" title="Pprojet généré"><img src="img2/deploy_gitlab5.png" class="img-fluid figure-img" alt="Pprojet généré"></a></p>
<figcaption>Pprojet généré</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><strong>Execution du job de déploiement</strong></p>
<ul>
<li><p>Dans la page qui s’affiche, en haut à gauche cliquer sur <strong>Run Pipeline</strong> <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>Dans la nouvelle page qui s’affiche, cliquer de nouveau sur <strong>Run Pipeline</strong> <i class="fa-solid fa-turn-down" aria-label="turn-down"></i></p></li>
<li><p>Dans la nouvelle page, cliquer sur <strong>Deploy</strong>. Après une dizaine de secondes, on vous indique que le job a été exécuté avec succès.</p></li>
</ul>
<div class="center">
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab6.png" class="lightbox" data-gallery="gitlab3" data-glightbox="description: .lightbox-desc-19" title="Build (1)"><img src="img2/deploy_gitlab6.png" class="img-fluid figure-img" alt="Build (1)"></a></p>
<figcaption>Build (1)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab7.png" class="lightbox" data-gallery="gitlab3" data-glightbox="description: .lightbox-desc-20" title="Build (2)"><img src="img2/deploy_gitlab7.png" class="img-fluid figure-img" alt="Build (2)"></a></p>
<figcaption>Build (2)</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="center">
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab8.png" class="lightbox" data-gallery="gitlab4" data-glightbox="description: .lightbox-desc-21" title="Build (3)"><img src="img2/deploy_gitlab8.png" class="img-fluid figure-img" alt="Build (3)"></a></p>
<figcaption>Build (3)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab9.png" class="lightbox" data-gallery="gitlab4" data-glightbox="description: .lightbox-desc-22" title="Build (4)"><img src="img2/deploy_gitlab9.png" class="img-fluid figure-img" alt="Build (4)"></a></p>
<figcaption>Build (4)</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><strong>Création de l’url</strong></p>
<ul>
<li><p>Dans le menu vertical à gauche, aller dans <strong>Deploy</strong> <i class="fa-solid fa-arrow-right" aria-label="arrow-right"></i> <strong>Pages</strong>.</p></li>
<li><p>Une URL unique est générée, on peut cliquer sur le lien pour visualiser la page test.</p></li>
<li><p>On peut vouloir une url plus classique par exemple: <code>https://mthevenin.gitlab.io/deploy-page/</code>:</p>
<ul>
<li>Pour générer cet url: décocher <strong>Use unique domaine</strong> et sauvegarder.</li>
<li>Cliquer sur le lien pour visualiser la page test.</li>
</ul></li>
</ul>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[33,33,33]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab10.png" class="lightbox" data-gallery="Gitlab5" data-glightbox="description: .lightbox-desc-23" title="URL (1)"><img src="img2/deploy_gitlab10.png" class="img-fluid figure-img" alt="URL (1)"></a></p>
<figcaption>URL (1)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab11.png" class="lightbox" data-gallery="Gitlab5" data-glightbox="description: .lightbox-desc-24" title="URL (2)"><img src="img2/deploy_gitlab11.png" class="img-fluid figure-img" alt="URL (2)"></a></p>
<figcaption>URL (2)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab12.png" class="lightbox" data-gallery="Gitlab5" data-glightbox="description: .lightbox-desc-25" title="URL (3)"><img src="img2/deploy_gitlab12.png" class="img-fluid figure-img" alt="URL (3)"></a></p>
<figcaption>URL (3)</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>La page test générée:</p>
<div class="center">
<div class="column" style="width:70%;">
<div class="box_img">
<p><a href="img2/deploy_gitlab13.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="img2/deploy_gitlab13.png" class="img-fluid"></a></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Paramétrer la visibilité (maj 20 mars… j’avais oublié)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Lorsque la page test est déployée le message suivant va être affiché, même si le repertoire est public.</li>
</ul>
<p><a href="img2/gl_visibility1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img src="img2/gl_visibility1.png" class="img-fluid"></a></p>
<p>Visiblement pour rendre la page visible à “tout le monde”:</p>
<ul>
<li>Aller dans <strong>Settings</strong> =&gt; <strong>General</strong></li>
<li>Descendre jusqu’à <strong>pages</strong></li>
<li>Sélectionner <strong>Everyone With Access</strong></li>
<li>Sauvegarder en bas de la liste de gestion de la visibilité</li>
</ul>
<p><a href="img2/gl_visibility2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="img2/gl_visibility2.png" class="img-fluid"></a></p>
<p><a href="img2/gl_visibility3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img src="img2/gl_visibility3.png" class="img-fluid"></a></p>
</div>
</div>
</div>
</section>
<section id="déployer-son-contenu-html" class="level3" data-number="8.2.2">
<h3 data-number="8.2.2" class="anchored" data-anchor-id="déployer-son-contenu-html"><span class="header-section-number">8.2.2</span> Déployer son contenu html</h3>
<p>Que ce soit une simple page de type notebook ou présentation revealjs, ou un contenu plus enrichi de type website, un fichier de configuration propre à Quarto (<strong><code>_quarto.yml</code></strong>) et indiquant clairement la destination des fichiers html doit être créé. Ce répertoire de destination est nommé <strong>public</strong>. Il a déjà été créé par gitlab lors de la phase de déploiement de la page test.</p>
<p>Pour cette seule opération, le contenu du fichier <code>_quarto.yml</code> est:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> website</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">output-dir</span><span class="kw">:</span><span class="at"> public</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>On peut également générer ce fichier directement dans Gitlab:</p>
<div class="center">
<div>

</div>
<div class="quarto-layout-panel" data-layout="[25,25,25,25]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_github13.png" class="lightbox" data-gallery="gitlab6" data-glightbox="description: .lightbox-desc-30" title="_quarto.ymlgitlab (1)"><img src="img2/deploy_github13.png" class="img-fluid figure-img" alt="_quarto.ymlgitlab (1)"></a></p>
<figcaption><code>_quarto.yml</code>gitlab (1)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab14.png" class="lightbox" data-gallery="Gitlab6" data-glightbox="description: .lightbox-desc-31" title="_quarto.yml gitlab (2)"><img src="img2/deploy_gitlab14.png" class="img-fluid figure-img" alt="_quarto.yml gitlab (2)"></a></p>
<figcaption><code>_quarto.yml</code> gitlab (2)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab15.png" class="lightbox" data-gallery="Gitlab6" data-glightbox="description: .lightbox-desc-32" title="_quarto.yml gitlab (3)"><img src="img2/deploy_gitlab15.png" class="img-fluid figure-img" alt="_quarto.yml gitlab (3)"></a></p>
<figcaption><code>_quarto.yml</code> gitlab (3)</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab16.png" class="lightbox" data-gallery="Gitlab6" data-glightbox="description: .lightbox-desc-33" title="_quarto.yml gitlab (4)"><img src="img2/deploy_gitlab16.png" class="img-fluid figure-img" alt="_quarto.yml gitlab (4)"></a></p>
<figcaption><code>_quarto.yml</code> gitlab (4)</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><strong>Dans RStudio</strong></p>
<ul>
<li><p>Créer un projet en clonant le dépôt distant.</p>
<ul>
<li>Si le fichier <strong><code>_quarto.yml</code></strong> qui indique le répertoire de destination (<strong>public</strong>) n’a pas déjà été créé dans le dépôt gitlab, le générer à partir d’un simple fichier texte.</li>
<li>Créer à minima un fichier <code>index.qmd</code> et le compiler en html.</li>
</ul></li>
<li><p>Mettre à jour le dépôt distant: <code>git add .</code> <i class="fa-solid fa-arrow-right" aria-label="arrow-right"></i> <code>git commit --m "titre commit"</code> <i class="fa-solid fa-arrow-right" aria-label="arrow-right"></i> <code>git push</code>.</p></li>
<li><p>Rafraichir la page html. Cela peut prendre quelques seconde à une minute.</p></li>
</ul>
<div class="center">
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab18.png" class="lightbox" data-gallery="Gitlab7" data-glightbox="description: .lightbox-desc-34" title="_quarto.yml Rstudio"><img src="img2/deploy_gitlab18.png" class="img-fluid figure-img" alt="_quarto.yml Rstudio"></a></p>
<figcaption>_quarto.yml Rstudio</figcaption>
</figure>
</div>
</div>
<div class="box_img quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img2/deploy_gitlab17.png" class="lightbox" data-gallery="Gitlab7" data-glightbox="description: .lightbox-desc-35" title="index.qmd Rstudio"><img src="img2/deploy_gitlab17.png" class="img-fluid figure-img" alt="index.qmd Rstudio"></a></p>
<figcaption>index.qmd Rstudio</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="center">
<div class="box_img">
<iframe width="900" height="450" src="https://mthevenin.gitlab.io/deploy-page/" title="Le site déployé">
</iframe>
</div>
</div>


<!-- -->

<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">Fichier .nojekill (1)</span>
<span class="glightbox-desc lightbox-desc-2">Fichier .nojekill (2)</span>
<span class="glightbox-desc lightbox-desc-3">Fichier .nojekill (3)</span>
<span class="glightbox-desc lightbox-desc-4">Le notebook dans RStudio</span>
<span class="glightbox-desc lightbox-desc-5">Le notebook dans le dépôt distant</span>
<span class="glightbox-desc lightbox-desc-6">Déploiement (1)</span>
<span class="glightbox-desc lightbox-desc-7">Déploiement (2)</span>
<span class="glightbox-desc lightbox-desc-8">Déploiement (3)</span>
<span class="glightbox-desc lightbox-desc-9">Déploiement (4)</span>
<span class="glightbox-desc lightbox-desc-10">Fichier <code>_quarto.yml</code></span>
<span class="glightbox-desc lightbox-desc-11">Répertoire <strong>docs</strong> dans dépôt distant</span>
<span class="glightbox-desc lightbox-desc-12">Déploiement (1)</span>
<span class="glightbox-desc lightbox-desc-13">Déploiement (2)</span>
<span class="glightbox-desc lightbox-desc-14">Nouveau projet</span>
<span class="glightbox-desc lightbox-desc-15">Projet avec template</span>
<span class="glightbox-desc lightbox-desc-16">Choix template html</span>
<span class="glightbox-desc lightbox-desc-17">Projet avec template</span>
<span class="glightbox-desc lightbox-desc-18">Pprojet généré</span>
<span class="glightbox-desc lightbox-desc-19">Build (1)</span>
<span class="glightbox-desc lightbox-desc-20">Build (2)</span>
<span class="glightbox-desc lightbox-desc-21">Build (3)</span>
<span class="glightbox-desc lightbox-desc-22">Build (4)</span>
<span class="glightbox-desc lightbox-desc-23">URL (1)</span>
<span class="glightbox-desc lightbox-desc-24">URL (2)</span>
<span class="glightbox-desc lightbox-desc-25">URL (3)</span>
<span class="glightbox-desc lightbox-desc-30"><code>_quarto.yml</code>gitlab (1)</span>
<span class="glightbox-desc lightbox-desc-31"><code>_quarto.yml</code> gitlab (2)</span>
<span class="glightbox-desc lightbox-desc-32"><code>_quarto.yml</code> gitlab (3)</span>
<span class="glightbox-desc lightbox-desc-33"><code>_quarto.yml</code> gitlab (4)</span>
<span class="glightbox-desc lightbox-desc-34">_quarto.yml Rstudio</span>
<span class="glightbox-desc lightbox-desc-35">index.qmd Rstudio</span>
</div>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Je ne dis pas que ce n’est pas possible sur Gitlab mais il faudra reparamétrer le fichier de configuration <strong><code>gitlab-ci.yml</code></strong>, ce qui n’est pas dans mes cordes<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Dans RStudio: <strong>New project</strong> <i class="fa-solid fa-arrow-right" aria-label="arrow-right"></i> <strong>New directory</strong> <i class="fa-solid fa-arrow-right" aria-label="arrow-right"></i> <strong>Quarto Website</strong><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./022-git2.html" class="pagination-link" aria-label="Clonage, pull, push et branches">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Clonage, pull, push et branches</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Code source</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb5" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Déploiement de pages</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Atouts Github: </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Moins d'étapes pour le déploiement (à moins d'être un.e pro sur les fichiers de configuration de Gitlab).</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>On peut déployer un simple notebook avec une seule page html sans fichier de configuration <span class="in">`_quarto.yml`</span>^<span class="co">[</span><span class="ot">Je ne dis pas que ce n'est pas possible sur Gitlab mais il faudra reparamétrer le fichier de configuration **`gitlab-ci.yml`**, ce qui n'est pas dans mes cordes</span><span class="co">]</span>.</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Atouts Gitlab: </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Souplesse pour le nom des adresses http, qui peut être unique ou non. </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>On peut déployer du contenu en mode privé sans payer. </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Pour **Github**, on va décrire la méthode de déploiement pour une simple page html et pour un contenu plus enrichi type *website* ou *book*. Dans le second cas, il faudra ajouter un un fichier de configuration **`_quarto.yml`** indiquant le répertoire  destination des fichiers html, css, js....   </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Pour **Gitlab** pour un simple notebook ou un contenu de type *website* ou *book* la méthode sera strictement identique. </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Attention: le fichier généré lors du déploiement **`.gitlab-ci.yml`** ne devra pas être supprimé.  </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="fu">## GITHUB</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="fu">### Déploiement d'une simple page html </span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>On génère un dépôt sur la plateforme en mode **Public** {{&lt; fa solid turn-down &gt;}} </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>On ajoute un fichier nommé **`.nojekill`** {{&lt; fa solid turn-down &gt;}}</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>Ce fichier est vide.</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>On peut réaliser cette étape en local une fois le clonage du dépôt effectué, mais c'est très rapide à faire directement sur le dépôt distant.</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Dans Rstudio, on crée un projet en clônant le dépôt distant {{&lt; fa solid turn-down &gt;}} </span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>On Génère le notebook avec un fichier <span class="in">`.qmd`</span> (ou <span class="in">`.rmd`</span> si on souhaite rester sur rmarkdown):</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>**Le fichier doit s'appeler `index.html`**.</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>On transfère les modifications sur le dépôt distant (<span class="in">`git push`</span>)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>::: callout-note </span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>On est pas obligé d'envoyer les fichiers sources .qmd ou .rmd, c'est ici l'output html et les fichiers associés (.css, .js...) qui seront lu par le navigateur. On peut donc ajouter des exceptions dans le fichier <span class="in">`.gitignore`</span> si on souhaite restreindre le les fichiers présents dans le répertoire distant. </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>:::  </span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">33,33,33</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="al">![Fichier .nojekill (1)](img2/deploy_github1.png)</span>{group="github1"}</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="al">![Fichier .nojekill (2)](img2/deploy_github2.png)</span>{group="github1"}</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="al">![Fichier .nojekill (3)](img2/deploy_github3.png)</span>{group="github1"}</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>:::: {layout="<span class="co">[</span><span class="ot">50,50</span><span class="co">]</span>" layout-valign="bottom"} </span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a><span class="al">![Le notebook dans RStudio](img2/deploy_github4.png)</span>{group="github2"}</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>::: {.box_img}  </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a><span class="al">![Le notebook dans le dépôt distant](img2/deploy_github5.png)</span>{group="github2"}</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>::::</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>Retourner sur le dépôt distant et rafraîchir la page pour voir si les fichiers du notebook a bien été ajouté {{&lt; fa solid turn-down &gt;}}</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>Aller dans les paramètres du dépôt (**Settings**) et cliquer dans le menu vertical à gauche sur **Pages** {{&lt; fa solid turn-down &gt;}}</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span>Dans **Branch**, sélectionner **main** et sauvegarder {{&lt; fa solid turn-down &gt;}}</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a><span class="ss">9. </span>Attendre quelques dizaines de secondes et rafraichir la page. L'adresse est affichée, et on peut y accéder en cliquant sur le lien.</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">20,20,20,20</span><span class="co">]</span>" layout-valign="bottom" }</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a><span class="al">![Déploiement (1)](img2/deploy_github6.png)</span>{group="github3"}</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a><span class="al">![Déploiement (2)](img2/deploy_github7.png)</span>{group="github3"}</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a><span class="al">![Déploiement (3)](img2/deploy_github8.png)</span>{group="github3"}</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a><span class="al">![Déploiement (4)](img2/deploy_github9.png)</span>{group="github3"}</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>::: {.center}</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>::: {.column width=80%}</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>&lt;iframe width="550" height="450" src="https://mthevenin.github.io/deploy-page1/" title="deploy website - github" name="deploy_page1"&gt;&lt;/iframe&gt;</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a><span class="fu">### Déploiement avec un fichier de configuration _quarto.yml</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Fonctionne également pour une simple page. Je recommande plutôt cette méthode pour son caractère plus général. </span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Le gros des étapes précédentes sont identiques. Ce qui change: </span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Création d'un fichier **`_quarto.yml`** où l'on va indiquer le répertoire de destination des fichiers html et fichiers associés (css, js).</span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Ce répertoire devra s'appeler **doc**.</span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Dans github, on devra modifier ce répertoire de destination.</span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>**Le fichier `_quarto.yaml`**  </span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>Cette question sera un plus approfondie dans le chapitre consacrée au contenu de type website, book dans la dernière partie du support.  </span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Pour la seule question du déploiement de pages ou de site, ce fichier <span class="in">`_quarto.yml`</span> de type texte doit contenir la destination du répertoire contenant le ou les fichiers .html .css, .scss, js....</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Le répertoire de destination doit s'appeler **docs**.</span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>Cet élément obligatoire du yaml est: </span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a><span class="in">```{.mf}</span></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a><span class="in">project:</span></span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a><span class="in">  type: website</span></span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a><span class="in">  output-dir: docs</span></span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Pour une simple page, on peut le générer directement dans le dépôt distant après sa création: **new file** =&gt; **nom du fichier**: **`_quarto.yml`** =&gt; puis coller les éléments ci-dessus. </span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Pour un contenu plus enrichi, comme un website, on ajoutera une barre de navigation horizontale et/ou une barre verticale, et on indiquera les fichiers <span class="in">`.qmd`</span> (ou <span class="in">`.rmd`</span>) qui alimenteront le contenu.  </span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Si on prend le template d'exemple de Quarto^<span class="co">[</span><span class="ot">Dans RStudio: **New project** {{&lt; fa solid arrow-right &gt;}} **New directory** {{&lt; fa solid arrow-right &gt;}} **Quarto Website**</span><span class="co">]</span>, on remarque que le répertoire de destination n'est pas indiqué. </span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>Par défaut, il s'appelle  **`_site`**. Il faut changer son nom:   **`output_dir: docs`**.   </span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>:::: {.columns}</span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>::: {.column width="50%"}</span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>**`_quarto.yml` généré automatiquement**  </span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a><span class="in">```{.yaml}</span></span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a><span class="in">project:</span></span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a><span class="in">  type: website</span></span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a><span class="in">website:</span></span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "deploy_page2"</span></span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a><span class="in">  navbar:</span></span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a><span class="in">    left:</span></span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a><span class="in">      - href: index.qmd</span></span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a><span class="in">        text: Home</span></span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a><span class="in">      - about.qmd</span></span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a><span class="in">format:</span></span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a><span class="in">  html:</span></span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a><span class="in">    theme: cosmo      </span></span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a><span class="in">    css: styles.css</span></span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a><span class="in">    toc: true</span></span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>::: {.column width="50%"}</span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a>**`_quarto.yml` pour déploiement sur Github**   </span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{.yaml}</span></span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a><span class="in">project:</span></span>
<span id="cb5-158"><a href="#cb5-158" aria-hidden="true" tabindex="-1"></a><span class="in">  type: website</span></span>
<span id="cb5-159"><a href="#cb5-159" aria-hidden="true" tabindex="-1"></a><span class="in">  output-dir: docs  # Ajouter cette ligne d'option</span></span>
<span id="cb5-160"><a href="#cb5-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-161"><a href="#cb5-161" aria-hidden="true" tabindex="-1"></a><span class="in">website:</span></span>
<span id="cb5-162"><a href="#cb5-162" aria-hidden="true" tabindex="-1"></a><span class="in">  title: "deploy_page2"</span></span>
<span id="cb5-163"><a href="#cb5-163" aria-hidden="true" tabindex="-1"></a><span class="in">  navbar:</span></span>
<span id="cb5-164"><a href="#cb5-164" aria-hidden="true" tabindex="-1"></a><span class="in">    left:</span></span>
<span id="cb5-165"><a href="#cb5-165" aria-hidden="true" tabindex="-1"></a><span class="in">      - href: index.qmd</span></span>
<span id="cb5-166"><a href="#cb5-166" aria-hidden="true" tabindex="-1"></a><span class="in">        text: Home</span></span>
<span id="cb5-167"><a href="#cb5-167" aria-hidden="true" tabindex="-1"></a><span class="in">      - about.qmd</span></span>
<span id="cb5-168"><a href="#cb5-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-169"><a href="#cb5-169" aria-hidden="true" tabindex="-1"></a><span class="in">format:</span></span>
<span id="cb5-170"><a href="#cb5-170" aria-hidden="true" tabindex="-1"></a><span class="in">  html:</span></span>
<span id="cb5-171"><a href="#cb5-171" aria-hidden="true" tabindex="-1"></a><span class="in">    theme: cosmo      </span></span>
<span id="cb5-172"><a href="#cb5-172" aria-hidden="true" tabindex="-1"></a><span class="in">    css: styles.css</span></span>
<span id="cb5-173"><a href="#cb5-173" aria-hidden="true" tabindex="-1"></a><span class="in">    toc: true</span></span>
<span id="cb5-174"><a href="#cb5-174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-175"><a href="#cb5-175" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-176"><a href="#cb5-176" aria-hidden="true" tabindex="-1"></a>::::  </span>
<span id="cb5-177"><a href="#cb5-177" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-178"><a href="#cb5-178" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-179"><a href="#cb5-179" aria-hidden="true" tabindex="-1"></a>Une fois le dépôt distant cloné et le site généré en local, on le push:  </span>
<span id="cb5-180"><a href="#cb5-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-181"><a href="#cb5-181" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>On va dans les paramètres du dépôt (**Settings**) et dans **Pages** {{&lt; fa solid turn-down &gt;}}</span>
<span id="cb5-182"><a href="#cb5-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-183"><a href="#cb5-183" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Dans **branch** on sélectionne la branche *main* et on change le répertoire de **roots** à **docs** {{&lt; fa solid turn-down &gt;}}</span>
<span id="cb5-184"><a href="#cb5-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-185"><a href="#cb5-185" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>On sauvegarde, et on rafraichit la page jusqu'à ce que  l'adresse du site apparaissent avec le lien. Compter quelques dizaines de secondes.    </span>
<span id="cb5-186"><a href="#cb5-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-187"><a href="#cb5-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-188"><a href="#cb5-188" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">50,50</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-189"><a href="#cb5-189" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-190"><a href="#cb5-190" aria-hidden="true" tabindex="-1"></a><span class="al">![Fichier `_quarto.yml`](img2/deploy_github11.png)</span>{group="github4"}</span>
<span id="cb5-191"><a href="#cb5-191" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-192"><a href="#cb5-192" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-193"><a href="#cb5-193" aria-hidden="true" tabindex="-1"></a><span class="al">![Répertoire **docs** dans dépôt distant](img2/deploy_github11b.png)</span>{group="github4"}</span>
<span id="cb5-194"><a href="#cb5-194" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-195"><a href="#cb5-195" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-196"><a href="#cb5-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-197"><a href="#cb5-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-198"><a href="#cb5-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-199"><a href="#cb5-199" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">50,50</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-200"><a href="#cb5-200" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-201"><a href="#cb5-201" aria-hidden="true" tabindex="-1"></a><span class="al">![Déploiement (1)](img2/deploy_github12.png)</span>{group="github5"}</span>
<span id="cb5-202"><a href="#cb5-202" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-203"><a href="#cb5-203" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-204"><a href="#cb5-204" aria-hidden="true" tabindex="-1"></a><span class="al">![Déploiement (2)](img2/deploy_github13.png)</span>{group="github5"}</span>
<span id="cb5-205"><a href="#cb5-205" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-206"><a href="#cb5-206" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-207"><a href="#cb5-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-208"><a href="#cb5-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-209"><a href="#cb5-209" aria-hidden="true" tabindex="-1"></a>::: {.center} </span>
<span id="cb5-210"><a href="#cb5-210" aria-hidden="true" tabindex="-1"></a>::: {.column width=80%}</span>
<span id="cb5-211"><a href="#cb5-211" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-212"><a href="#cb5-212" aria-hidden="true" tabindex="-1"></a>&lt;iframe width="550" height="450" src="https://mthevenin.github.io/deploy-page2/" title="deploy website - github" name="deploy_page2"&gt;&lt;/iframe&gt;</span>
<span id="cb5-213"><a href="#cb5-213" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-214"><a href="#cb5-214" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-215"><a href="#cb5-215" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-216"><a href="#cb5-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-217"><a href="#cb5-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-218"><a href="#cb5-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-219"><a href="#cb5-219" aria-hidden="true" tabindex="-1"></a><span class="fu">## GITLAB</span></span>
<span id="cb5-220"><a href="#cb5-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-221"><a href="#cb5-221" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb5-222"><a href="#cb5-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-223"><a href="#cb5-223" aria-hidden="true" tabindex="-1"></a><span class="fu">### Atouts de Gitlab</span></span>
<span id="cb5-224"><a href="#cb5-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-225"><a href="#cb5-225" aria-hidden="true" tabindex="-1"></a>**Déploiement en mode private sans coût**  </span>
<span id="cb5-226"><a href="#cb5-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-227"><a href="#cb5-227" aria-hidden="true" tabindex="-1"></a>L'atout principal de Gitlab par rapport à Github est la possibilité de déployer un contenu html  en mode privé sans coût additionnel.  </span>
<span id="cb5-228"><a href="#cb5-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-229"><a href="#cb5-229" aria-hidden="true" tabindex="-1"></a>**Choix du nom de domaine**</span>
<span id="cb5-230"><a href="#cb5-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-231"><a href="#cb5-231" aria-hidden="true" tabindex="-1"></a>Gitlab est nettement plus souple sur le choix des adresses http. Par défaut, au moment du déploiement une adresse unique est proposée. On peut la changer pour un nom de domaine classique : **https://username.gitlab.io/repository_name/**</span>
<span id="cb5-232"><a href="#cb5-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-233"><a href="#cb5-233" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb5-234"><a href="#cb5-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-235"><a href="#cb5-235" aria-hidden="true" tabindex="-1"></a>Ne maîtrisant absolument pas la programmation des templates **`.gitlab-ci.yml`**, on procèdera par simple pas à pas. </span>
<span id="cb5-236"><a href="#cb5-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-237"><a href="#cb5-237" aria-hidden="true" tabindex="-1"></a><span class="fu">### Générer le déploiement d'une page test et d'une url associée</span></span>
<span id="cb5-238"><a href="#cb5-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-239"><a href="#cb5-239" aria-hidden="true" tabindex="-1"></a>Eléments générés lors du déploiement:  </span>
<span id="cb5-240"><a href="#cb5-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-241"><a href="#cb5-241" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Un fichier **`gitlab-ci.yml`** qui devra être conservé.</span>
<span id="cb5-242"><a href="#cb5-242" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Un répertoire **public** qui contiendra le contenu html. </span>
<span id="cb5-243"><a href="#cb5-243" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb5-244"><a href="#cb5-244" aria-hidden="true" tabindex="-1"></a>Pour générer ces éléments:</span>
<span id="cb5-245"><a href="#cb5-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-246"><a href="#cb5-246" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span>On crée un dépôt en mode **public**  ou **private**:</span>
<span id="cb5-247"><a href="#cb5-247" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Lorsqu'on clique sur **New project** on selectionne **Create from template**.</span>
<span id="cb5-248"><a href="#cb5-248" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>On sélectionne **Pages/plain HTML** dans la liste et on clique sur **Use template**. </span>
<span id="cb5-249"><a href="#cb5-249" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-250"><a href="#cb5-250" aria-hidden="true" tabindex="-1"></a>::: {.center}</span>
<span id="cb5-251"><a href="#cb5-251" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">33,33,33</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-252"><a href="#cb5-252" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-253"><a href="#cb5-253" aria-hidden="true" tabindex="-1"></a><span class="al">![Nouveau projet](img2/deploy_gitlab1.png)</span>{group="gitlab1"}</span>
<span id="cb5-254"><a href="#cb5-254" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-255"><a href="#cb5-255" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-256"><a href="#cb5-256" aria-hidden="true" tabindex="-1"></a><span class="al">![Projet avec template](img2/deploy_gitlab2.png)</span>{group="gitlab1"}</span>
<span id="cb5-257"><a href="#cb5-257" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-258"><a href="#cb5-258" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-259"><a href="#cb5-259" aria-hidden="true" tabindex="-1"></a><span class="al">![Choix template html](img2/deploy_gitlab3.png)</span>{group="Gitlab1"}</span>
<span id="cb5-260"><a href="#cb5-260" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb5-261"><a href="#cb5-261" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-262"><a href="#cb5-262" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-263"><a href="#cb5-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-264"><a href="#cb5-264" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>**Création du projet**:  </span>
<span id="cb5-265"><a href="#cb5-265" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>On reprend les éléments décrits dans le chapitre précédent (@sec-glproj) avec le nom du projet, le nom de domaine du projet (différent du site déployé) et le choix de la visibilité.</span>
<span id="cb5-266"><a href="#cb5-266" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>On remarque qu'un template <span class="in">`gitlab-ci.yml`</span> est ajouté. Il doit être conservé.</span>
<span id="cb5-267"><a href="#cb5-267" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>Pour déployer la page ou le site avec son nom de domaine, sur le menu vertical à gauche, on clique sur **Build** et sur **Pipelines**.</span>
<span id="cb5-268"><a href="#cb5-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-269"><a href="#cb5-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-270"><a href="#cb5-270" aria-hidden="true" tabindex="-1"></a>::: {.center}   </span>
<span id="cb5-271"><a href="#cb5-271" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">50,50</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-272"><a href="#cb5-272" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-273"><a href="#cb5-273" aria-hidden="true" tabindex="-1"></a><span class="al">![Projet avec template](img2/deploy_gitlab4.png)</span>{group="gitlab2"}</span>
<span id="cb5-274"><a href="#cb5-274" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-275"><a href="#cb5-275" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-276"><a href="#cb5-276" aria-hidden="true" tabindex="-1"></a><span class="al">![Pprojet généré](img2/deploy_gitlab5.png)</span>{group="gitlab2"}</span>
<span id="cb5-277"><a href="#cb5-277" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-278"><a href="#cb5-278" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-279"><a href="#cb5-279" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-280"><a href="#cb5-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-281"><a href="#cb5-281" aria-hidden="true" tabindex="-1"></a>**Execution du job de déploiement**  </span>
<span id="cb5-282"><a href="#cb5-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-283"><a href="#cb5-283" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Dans la page qui s'affiche, en haut à gauche cliquer sur **Run Pipeline** {{&lt; fa solid turn-down &gt;}}  </span>
<span id="cb5-284"><a href="#cb5-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-285"><a href="#cb5-285" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Dans la nouvelle page qui s'affiche, cliquer de nouveau sur **Run Pipeline** {{&lt; fa solid turn-down &gt;}}</span>
<span id="cb5-286"><a href="#cb5-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-287"><a href="#cb5-287" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Dans la nouvelle page, cliquer sur **Deploy**. Après une dizaine de secondes, on vous indique que le job a été exécuté avec succès. </span>
<span id="cb5-288"><a href="#cb5-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-289"><a href="#cb5-289" aria-hidden="true" tabindex="-1"></a>:::  {.center}</span>
<span id="cb5-290"><a href="#cb5-290" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">50,50</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-291"><a href="#cb5-291" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-292"><a href="#cb5-292" aria-hidden="true" tabindex="-1"></a><span class="al">![Build (1)](img2/deploy_gitlab6.png)</span>{group="gitlab3"}</span>
<span id="cb5-293"><a href="#cb5-293" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-294"><a href="#cb5-294" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-295"><a href="#cb5-295" aria-hidden="true" tabindex="-1"></a><span class="al">![Build (2)](img2/deploy_gitlab7.png)</span>{group="gitlab3"}</span>
<span id="cb5-296"><a href="#cb5-296" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-297"><a href="#cb5-297" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-298"><a href="#cb5-298" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb5-299"><a href="#cb5-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-300"><a href="#cb5-300" aria-hidden="true" tabindex="-1"></a>::: {.center}</span>
<span id="cb5-301"><a href="#cb5-301" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">50,50</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-302"><a href="#cb5-302" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-303"><a href="#cb5-303" aria-hidden="true" tabindex="-1"></a><span class="al">![Build (3)](img2/deploy_gitlab8.png)</span>{group="gitlab4"}</span>
<span id="cb5-304"><a href="#cb5-304" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-305"><a href="#cb5-305" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-306"><a href="#cb5-306" aria-hidden="true" tabindex="-1"></a><span class="al">![Build (4)](img2/deploy_gitlab9.png)</span>{group="gitlab4"}</span>
<span id="cb5-307"><a href="#cb5-307" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-308"><a href="#cb5-308" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-309"><a href="#cb5-309" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-310"><a href="#cb5-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-311"><a href="#cb5-311" aria-hidden="true" tabindex="-1"></a>**Création de l'url**   </span>
<span id="cb5-312"><a href="#cb5-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-313"><a href="#cb5-313" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Dans le menu vertical à gauche, aller dans **Deploy** {{&lt; fa solid arrow-right &gt;}} **Pages**.  </span>
<span id="cb5-314"><a href="#cb5-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-315"><a href="#cb5-315" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Une URL unique est générée, on peut cliquer sur le lien pour visualiser la page test.  </span>
<span id="cb5-316"><a href="#cb5-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-317"><a href="#cb5-317" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>On peut vouloir une url plus classique par exemple: <span class="in">`https://mthevenin.gitlab.io/deploy-page/`</span>:</span>
<span id="cb5-318"><a href="#cb5-318" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>Pour générer cet url: décocher **Use unique domaine** et sauvegarder.</span>
<span id="cb5-319"><a href="#cb5-319" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>Cliquer sur le lien pour visualiser la page test.</span>
<span id="cb5-320"><a href="#cb5-320" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-321"><a href="#cb5-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-322"><a href="#cb5-322" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">33,33,33</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-323"><a href="#cb5-323" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-324"><a href="#cb5-324" aria-hidden="true" tabindex="-1"></a><span class="al">![URL (1)](img2/deploy_gitlab10.png)</span>{group="Gitlab5"}</span>
<span id="cb5-325"><a href="#cb5-325" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb5-326"><a href="#cb5-326" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-327"><a href="#cb5-327" aria-hidden="true" tabindex="-1"></a><span class="al">![URL (2)](img2/deploy_gitlab11.png)</span>{group="Gitlab5"}</span>
<span id="cb5-328"><a href="#cb5-328" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-329"><a href="#cb5-329" aria-hidden="true" tabindex="-1"></a>::: {.box_img}</span>
<span id="cb5-330"><a href="#cb5-330" aria-hidden="true" tabindex="-1"></a><span class="al">![URL (3)](img2/deploy_gitlab12.png)</span>{group="Gitlab5"}</span>
<span id="cb5-331"><a href="#cb5-331" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-332"><a href="#cb5-332" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-333"><a href="#cb5-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-334"><a href="#cb5-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-335"><a href="#cb5-335" aria-hidden="true" tabindex="-1"></a>La page test générée:  </span>
<span id="cb5-336"><a href="#cb5-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-337"><a href="#cb5-337" aria-hidden="true" tabindex="-1"></a>::: {.center}</span>
<span id="cb5-338"><a href="#cb5-338" aria-hidden="true" tabindex="-1"></a>::: {.column width=70%}</span>
<span id="cb5-339"><a href="#cb5-339" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-340"><a href="#cb5-340" aria-hidden="true" tabindex="-1"></a><span class="al">![](img2/deploy_gitlab13.png)</span></span>
<span id="cb5-341"><a href="#cb5-341" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-342"><a href="#cb5-342" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-343"><a href="#cb5-343" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb5-344"><a href="#cb5-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-345"><a href="#cb5-345" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning collapse=true}</span>
<span id="cb5-346"><a href="#cb5-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-347"><a href="#cb5-347" aria-hidden="true" tabindex="-1"></a><span class="fu">### Paramétrer la visibilité (maj 20 mars... j'avais oublié)</span></span>
<span id="cb5-348"><a href="#cb5-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-349"><a href="#cb5-349" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Lorsque la page test est déployée le message suivant va être affiché, même si le repertoire est public.</span>
<span id="cb5-350"><a href="#cb5-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-351"><a href="#cb5-351" aria-hidden="true" tabindex="-1"></a><span class="al">![](img2/gl_visibility1.png)</span></span>
<span id="cb5-352"><a href="#cb5-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-353"><a href="#cb5-353" aria-hidden="true" tabindex="-1"></a>Visiblement pour rendre la page visible à "tout le monde": </span>
<span id="cb5-354"><a href="#cb5-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-355"><a href="#cb5-355" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Aller dans **Settings** =&gt; **General**</span>
<span id="cb5-356"><a href="#cb5-356" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Descendre jusqu'à **pages**</span>
<span id="cb5-357"><a href="#cb5-357" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Sélectionner **Everyone With Access**</span>
<span id="cb5-358"><a href="#cb5-358" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Sauvegarder en bas de la liste de gestion de la visibilité</span>
<span id="cb5-359"><a href="#cb5-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-360"><a href="#cb5-360" aria-hidden="true" tabindex="-1"></a><span class="al">![](img2/gl_visibility2.png)</span></span>
<span id="cb5-361"><a href="#cb5-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-362"><a href="#cb5-362" aria-hidden="true" tabindex="-1"></a><span class="al">![](img2/gl_visibility3.png)</span></span>
<span id="cb5-363"><a href="#cb5-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-364"><a href="#cb5-364" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-365"><a href="#cb5-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-366"><a href="#cb5-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-367"><a href="#cb5-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-368"><a href="#cb5-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-369"><a href="#cb5-369" aria-hidden="true" tabindex="-1"></a><span class="fu">### Déployer son contenu html</span></span>
<span id="cb5-370"><a href="#cb5-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-371"><a href="#cb5-371" aria-hidden="true" tabindex="-1"></a>Que ce soit une simple page de type notebook ou présentation revealjs, ou un contenu plus enrichi de type website, un fichier de configuration propre à Quarto (**`_quarto.yml`**) et indiquant clairement la destination des fichiers html doit être créé. Ce répertoire de destination est nommé **public**. Il a déjà été créé par gitlab lors de la phase de déploiement de la page test.</span>
<span id="cb5-372"><a href="#cb5-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-373"><a href="#cb5-373" aria-hidden="true" tabindex="-1"></a>Pour cette seule opération, le contenu du fichier <span class="in">`_quarto.yml`</span> est: </span>
<span id="cb5-374"><a href="#cb5-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-375"><a href="#cb5-375" aria-hidden="true" tabindex="-1"></a><span class="in">```{.yaml}</span></span>
<span id="cb5-376"><a href="#cb5-376" aria-hidden="true" tabindex="-1"></a><span class="in">project:</span></span>
<span id="cb5-377"><a href="#cb5-377" aria-hidden="true" tabindex="-1"></a><span class="in">  type: website</span></span>
<span id="cb5-378"><a href="#cb5-378" aria-hidden="true" tabindex="-1"></a><span class="in">  output-dir: public</span></span>
<span id="cb5-379"><a href="#cb5-379" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-380"><a href="#cb5-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-381"><a href="#cb5-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-382"><a href="#cb5-382" aria-hidden="true" tabindex="-1"></a>On peut également générer ce fichier directement dans Gitlab:</span>
<span id="cb5-383"><a href="#cb5-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-384"><a href="#cb5-384" aria-hidden="true" tabindex="-1"></a>::: {.center}</span>
<span id="cb5-385"><a href="#cb5-385" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">25,25,25,25</span><span class="co">]</span>" layout-valign="bottom"}</span>
<span id="cb5-386"><a href="#cb5-386" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-387"><a href="#cb5-387" aria-hidden="true" tabindex="-1"></a><span class="al">![`_quarto.yml`gitlab (1)](img2/deploy_github13.png)</span>{group="gitlab6"}</span>
<span id="cb5-388"><a href="#cb5-388" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-389"><a href="#cb5-389" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-390"><a href="#cb5-390" aria-hidden="true" tabindex="-1"></a><span class="al">![`_quarto.yml` gitlab (2)](img2/deploy_gitlab14.png)</span>{group="Gitlab6"} </span>
<span id="cb5-391"><a href="#cb5-391" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-392"><a href="#cb5-392" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-393"><a href="#cb5-393" aria-hidden="true" tabindex="-1"></a><span class="al">![`_quarto.yml` gitlab (3)](img2/deploy_gitlab15.png)</span>{group="Gitlab6"}   </span>
<span id="cb5-394"><a href="#cb5-394" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-395"><a href="#cb5-395" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-396"><a href="#cb5-396" aria-hidden="true" tabindex="-1"></a><span class="al">![`_quarto.yml` gitlab (4)](img2/deploy_gitlab16.png)</span>{group="Gitlab6"}   </span>
<span id="cb5-397"><a href="#cb5-397" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-398"><a href="#cb5-398" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-399"><a href="#cb5-399" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-400"><a href="#cb5-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-401"><a href="#cb5-401" aria-hidden="true" tabindex="-1"></a>**Dans RStudio**  </span>
<span id="cb5-402"><a href="#cb5-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-403"><a href="#cb5-403" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Créer un projet en clonant le dépôt distant.</span>
<span id="cb5-404"><a href="#cb5-404" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Si le fichier **`_quarto.yml`**  qui indique le répertoire de destination (**public**) n'a pas déjà été créé dans le dépôt gitlab, le générer à partir d'un simple fichier texte.</span>
<span id="cb5-405"><a href="#cb5-405" aria-hidden="true" tabindex="-1"></a><span class="ss">  * </span>Créer à minima un fichier <span class="in">`index.qmd`</span> et le compiler en html.  </span>
<span id="cb5-406"><a href="#cb5-406" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-407"><a href="#cb5-407" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Mettre à jour le dépôt distant: <span class="in">`git add .`</span> {{&lt; fa solid arrow-right &gt;}} <span class="in">`git commit --m "titre commit"`</span> {{&lt; fa solid arrow-right &gt;}} <span class="in">`git push`</span>.  </span>
<span id="cb5-408"><a href="#cb5-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-409"><a href="#cb5-409" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Rafraichir la page html. Cela peut prendre quelques seconde à une minute.</span>
<span id="cb5-410"><a href="#cb5-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-411"><a href="#cb5-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-412"><a href="#cb5-412" aria-hidden="true" tabindex="-1"></a>::: {.center}</span>
<span id="cb5-413"><a href="#cb5-413" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">50,50</span><span class="co">]</span>" layout-valign="bottom"}   </span>
<span id="cb5-414"><a href="#cb5-414" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-415"><a href="#cb5-415" aria-hidden="true" tabindex="-1"></a><span class="al">![_quarto.yml Rstudio](img2/deploy_gitlab18.png)</span>{group="Gitlab7"} </span>
<span id="cb5-416"><a href="#cb5-416" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-417"><a href="#cb5-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-418"><a href="#cb5-418" aria-hidden="true" tabindex="-1"></a>:::{.box_img}</span>
<span id="cb5-419"><a href="#cb5-419" aria-hidden="true" tabindex="-1"></a><span class="al">![index.qmd Rstudio](img2/deploy_gitlab17.png)</span>{group="Gitlab7"} </span>
<span id="cb5-420"><a href="#cb5-420" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-421"><a href="#cb5-421" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-422"><a href="#cb5-422" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-423"><a href="#cb5-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-424"><a href="#cb5-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-425"><a href="#cb5-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-426"><a href="#cb5-426" aria-hidden="true" tabindex="-1"></a>::: {.center}  </span>
<span id="cb5-427"><a href="#cb5-427" aria-hidden="true" tabindex="-1"></a>:::{.box_img} </span>
<span id="cb5-428"><a href="#cb5-428" aria-hidden="true" tabindex="-1"></a>&lt;iframe width="900" height="450" src="https://mthevenin.gitlab.io/deploy-page/" </span>
<span id="cb5-429"><a href="#cb5-429" aria-hidden="true" tabindex="-1"></a>title="Le site déployé" &gt;&lt;/iframe&gt;</span>
<span id="cb5-430"><a href="#cb5-430" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-431"><a href="#cb5-431" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Marc Thévenin - Ined - 2024 - 
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://gitlab.com/mthevenin">
<p><i class="fa-brands fa-gitlab" aria-label="gitlab"></i> -</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/mthevenin">
<p><i class="fa-brands fa-github" aria-label="github"></i></p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","descPosition":"bottom","openEffect":"zoom","loop":false,"closeEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>